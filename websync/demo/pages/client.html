<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-hans">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="user-scalable=yes, width=device-width, initial-scale=1.0, maximum-scale=2.0" />
    <title>Web Sync</title>
    <script src="https://g.alicdn.com/hi/modulex/5.0.0/seed.js" type="text/javascript"></script>
    <script src="https://g.alicdn.com/tb/tracker/1.0.16/index.js" type="text/javascript"></script>
    <script src="https://g.alicdn.com/hi/quark/1.7.896/index.js" type="text/javascript" charset="utf-8"></script>
    <script src="../scripts/config.js"></script>
</head>
<body class="ali-page-l-portal ali-websync-scenario-demo">
    <div id="page_show_container_demo" class="ali-websync-client-toolbar-corner"></div>
    <div id="page_show_container_panel">
        <h1 id="page_show_container_panel_head">Test</h1>
        <p>
            <input id="page_show_container_panel_input" type="date" />
        </p>
        <p>
            <img id="page_show_container_panel_image" alt="Wangwang" src="../images/taobao_avatar.jpg" />
        </p>
    </div>
    <script type="text/javascript">
    <!--
        modulex.use('punycode,websync/scripts/panels.js,demo/scripts/data.js', function (punycode, panels, mockdata) {
            if (!!console && !!console.error) console.error("Failed to load.");
            mockdata.setup();
            var panel = panels.clientPanel("page_show_container_demo");
            var client = panel.info();
            client.imagesVisible(true);
            mockdata.HandlerUtility.mockHandler(client);
            client.availableListMonitor().completed.add(function (ev) {
                client.id(ev.id);
            });
            client.idResolver.pathTemplate("https://websync.alibaba.net/api/room/generate/");
            client.activityResolver.pathTemplate("https://websync.alibaba.net/api/activity/{type}/generate/");
            client.commitResolver.pathTemplate("https://websync.alibaba.net/api/room/{id}/share/");
            client.addAttendeeResolver.pathTemplate("https://websync.alibaba.net/api/room/{id}/attendee/?action=add&id={user}");
            client.addAttendeeByNameResolver.pathTemplate("https://websync.alibaba.net/api/room/{id}/attendee/?action=add&name={userName}");
            client.leaveResolver.pathTemplate("https://websync.alibaba.net/api/me/room/leave/");
            client.availableListResolver.pathTemplate("https://websync.alibaba.net/api/user/rooms/");
            client.watchElement("page_show_container_panel");
            AliHub.Elements.popup({
                target: "page_show_container_panel_image",
                render: function (info) {
                    info.container().get_element().innerHTML = "Tips...";
                },
                timeout: 3000
            });
        });
    //-->
    </script>
</body>
</html>
